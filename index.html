<!doctype html>
<html lang="es">
<head>
  <!-- =========================================================
       META BÁSICA
       ---------------------------------------------------------
       - Página de aterrizaje (landing) para "Alfa Urbana"
       - Diseño oscuro industrial con acentos naranja ladrillo
       - Orientada a conversión vía WhatsApp y correo
  ========================================================== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alfa Urbana — Construcción y remodelación en Tijuana</title>
  <meta name="description" content="Constructora enfocada en casas y remodelación, con servicios de obra civil, estructuras metálicas, tablaroca y acabados. Tijuana, B.C.">
  <link rel="icon" href="./assets/favicon.png" type="image/png">

  <!-- Open Graph / previsualización en redes -->
  <meta property="og:title" content="Alfa Urbana — Constructora">
  <meta property="og:description" content="Construcción y remodelación residencial en Tijuana, con capacidad comercial.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="./assets/logoAU.png">

  <!-- Tailwind (CDN) → Utilidades modernas sin build -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- =========================================================
       ESTILOS DEL TEMA (solo lo necesario)
       ========================================================== -->
  <style>
    :root {
      /* Color ladrillo de marca (naranja oscuro) */
      --brand: #B7410E;
    }
    /* Fondo oscuro industrial con sutiles gradientes */
    .bg-industrial {
      background:
        radial-gradient(60% 80% at 20% 0%, rgba(255,255,255,.05) 0%, rgba(0,0,0,0) 60%),
        linear-gradient(180deg, #0F1115 0%, #151922 100%);
    }
    /* Cartas con borde muy leve (consistencia visual) */
    .card {
      background-color:#1F2937; /* gray-800 */
      border:1px solid rgba(255,255,255,.06);
    }
    /* Marca de agua del logo en el hero (decorativa) */
    .hero-mark { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; opacity:.08; }
    .hero-mark img { max-width:60%; filter: drop-shadow(0 10px 30px rgba(0,0,0,.5)); }

    /* Masonry minimal (CSS columns, sin librerías) */
    .masonry { column-gap: 1.5rem; }
    @media (min-width: 0px)   {.masonry{ column-count: 1; }}
    @media (min-width: 640px) {.masonry{ column-count: 2; }}
    @media (min-width: 1024px){ .masonry{ column-count: 3; }}
    .masonry-item { break-inside: avoid; margin: 0 0 1.5rem; display: block; }

    /* Pequeña animación de entrada del logo (sutil) */
    @keyframes logoIn { from { opacity: 0; transform: translateY(6px) scale(.995);} to { opacity: 1; transform: translateY(0) scale(1);} }
    .logo-anim { animation: logoIn .35s ease-out both; }

    html { scroll-behavior: smooth; }
    body { background:#0F1115; color:#E5E7EB; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    a { outline-offset: 2px; }
    </style>

  <!-- =========================================================
       SCRIPT: Interacción del logo (hover + proximidad)
       - Añade clases CSS según interacción
  ========================================================== -->
    <script>
      // =================== Hover + Proximidad del logo ===================
      (function () {
        const brand = document.getElementById('brand');
        const img   = document.getElementById('brandImg');
        if (!brand || !img) return;
      
        const PROXIMITY_RADIUS = 96; // px alrededor del centro del logo (ajusta a gusto)
        let ticking = false;
      
        // Marca de hover directo (al pasar exactamente encima del <img>)
        img.addEventListener('mouseenter', () => brand.classList.add('brand-hover'));
        img.addEventListener('mouseleave', () => brand.classList.remove('brand-hover'));
      
        // Proximidad: activa cuando el cursor se acerca al logo aunque no lo toque
        function onMove(e) {
          if (ticking) return;
          ticking = true;
          window.requestAnimationFrame(() => {
            const rect = brand.getBoundingClientRect();
            // Centro del área del logo (link completo para que el “near” sea más amable)
            const cx = rect.left + rect.width / 2;
            const cy = rect.top  + rect.height / 2;
          
            const dx = e.clientX - cx;
            const dy = e.clientY - cy;
            const dist = Math.hypot(dx, dy);
          
            if (dist <= PROXIMITY_RADIUS && !brand.classList.contains('brand-hover')) {
              brand.classList.add('brand-near');
            } else {
              brand.classList.remove('brand-near');
            }
            ticking = false;
          });
        }
      
        // Escucha global — limpia cuando no sea necesario
        window.addEventListener('mousemove', onMove, { passive: true });
      
        // Opcional: al hacer scroll, recalcula proximidad naturalmente
        window.addEventListener('scroll', () => brand.classList.remove('brand-near'), { passive: true });
      })();
    </script>

</head>

<script>
  // =================== Hover + Proximidad del logo ===================
  (function () {
    const brand = document.getElementById('brand');
    const img   = document.getElementById('brandImg');
    if (!brand || !img) return;

    const PROXIMITY_RADIUS = 96; // px alrededor del centro del logo (ajusta a gusto)
    let ticking = false;

    // Marca de hover directo (al pasar exactamente encima del <img>)
    img.addEventListener('mouseenter', () => brand.classList.add('brand-hover'));
    img.addEventListener('mouseleave', () => brand.classList.remove('brand-hover'));

    // Proximidad: activa cuando el cursor se acerca al logo aunque no lo toque
    function onMove(e) {
      if (ticking) return;
      ticking = true;
      window.requestAnimationFrame(() => {
        const rect = brand.getBoundingClientRect();
        // Centro del área del logo (link completo para que el “near” sea más amable)
        const cx = rect.left + rect.width / 2;
        const cy = rect.top  + rect.height / 2;

        const dx = e.clientX - cx;
        const dy = e.clientY - cy;
        const dist = Math.hypot(dx, dy);

        if (dist <= PROXIMITY_RADIUS && !brand.classList.contains('brand-hover')) {
          brand.classList.add('brand-near');
        } else {
          brand.classList.remove('brand-near');
        }
        ticking = false;
      });
    }

    // Escucha global — limpia cuando no sea necesario
    window.addEventListener('mousemove', onMove, { passive: true });

    // Opcional: al hacer scroll, recalcula proximidad naturalmente
    window.addEventListener('scroll', () => brand.classList.remove('brand-near'), { passive: true });
  })();
</script>

<body>
  <!-- =========================================================
       HEADER / NAVEGACIÓN
       - Fijo con blur sutil
       - Logo izquierda / links derecha
  ========================================================== -->
  <header class="sticky top-0 z-50 bg-[#0F1115]/80 backdrop-blur border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="h-20 flex items-center justify-between">
        <!-- Logo de marca -->
        <a id="brand" href="#top" class="flex items-center gap-3">
          <img id="brandImg" src="./assets/logoAU.png" alt="Alfa Urbana" class="h-10 sm:h-12 lg:h-16 w-auto logo-anim">
          <span class="sr-only">Ir al inicio</span>
        </a>


        <!-- Navegación principal (simple y clara) -->
        <nav class="hidden md:flex items-center gap-8 text-[#9CA3AF]">
          <a href="#servicios" class="hover:text-white">Servicios</a>
          <a href="#proyectos" class="hover:text-white">Proyectos</a>
          <a href="#nosotros"  class="hover:text-white">Nosotros</a>
          <a href="#contacto"  class="px-4 py-2 rounded-md bg-[var(--brand)] text-white hover:opacity-90">Cotiza ahora</a>
        </nav>

        <!-- Botón móvil (mínimo y accesible) -->
        <button id="btnMenu" class="md:hidden inline-flex h-10 w-10 items-center justify-center rounded-md border border-white/10 text-white" aria-label="Abrir menú">
          ☰
        </button>
      </div>
    </div>

    <!-- Menú móvil desplegable (solo lo necesario) -->
    <div id="mobileMenu" class="md:hidden hidden border-t border-white/10">
      <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 grid gap-2 text-[#D1D5DB]">
        <a href="#servicios" class="py-2">Servicios</a>
        <a href="#proyectos" class="py-2">Proyectos</a>
        <a href="#nosotros"  class="py-2">Nosotros</a>
        <a href="#contacto"  class="py-2 text-white bg-[var(--brand)] rounded-md text-center">Cotiza ahora</a>
      </nav>
    </div>
  </header>

  <!-- =========================================================
       HERO
       - Mensaje claro + CTA WhatsApp
       - Imagen de obra real a la derecha
  ========================================================== -->
  <section class="relative overflow-hidden bg-industrial">
    <!-- Marca de agua del logo (decoración) -->
    <div class="hero-mark" aria-hidden="true"><img src="./assets/logoAU.png" alt=""></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 relative">
      <div class="grid lg:grid-cols-2 gap-10 items-center">
        <!-- Texto principal del hero -->
        <div>
          <span class="inline-block text-sm tracking-widest font-semibold text-[var(--brand)] uppercase">Constructora</span>
          <h1 class="mt-3 text-4xl sm:text-5xl font-extrabold tracking-tight">
            Construcción y remodelación residencial en Tijuana.
          </h1>
          <p class="mt-4 text-[#9CA3AF] max-w-xl">
            Enfoque principal en casas; también atendemos proyectos comerciales y de mantenimiento.
          </p>
          <div class="mt-8 flex flex-wrap gap-4">
            <a id="ctaWhats" href="#" target="_blank" rel="noopener"
               class="px-6 py-3 rounded-md bg-[var(--brand)] text-white font-semibold hover:opacity-90">
              Cotizar por WhatsApp
            </a>
            <a href="#proyectos"
               class="px-6 py-3 rounded-md border border-white/10 text-[#9CA3AF] hover:border-[var(--brand)] hover:text-white">
              Ver proyectos
            </a>
          </div>
        </div>

        <!-- Imagen principal (obra) -->
        <div class="relative">
          <figure class="rounded-xl overflow-hidden shadow-[0_10px_30px_rgba(0,0,0,.25)] ring-1 ring-white/10">
            <!-- Reemplaza por tu mejor foto de portada -->
            <img src="./assets/photos/housethemostimportantwork.jpeg" alt="Proyecto residencial destacado" class="w-full h-full object-cover aspect-[4/3]">
          </figure>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================================================
       SERVICIOS
       - Tarjetas simples (texto claro + consistencia visual)
  ========================================================== -->
  <section id="servicios" class="py-16 sm:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-2xl">
        <h2 class="text-3xl font-bold">Servicios</h2>
        <p class="mt-2 text-[#9CA3AF]">Soluciones para hogar y comercio, con foco en residencial.</p>
      </div>

      <div id="svcGrid" class="mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Las tarjetas se generan por JavaScript con la lista "services" -->
      </div>
    </div>
  </section>

  <!-- =========================================================
       PROYECTOS (Masonry + Lightbox)
       - Galería responsiva con zoom y navegación
  ========================================================== -->
  <section id="proyectos" class="py-16 sm:py-20 bg-[#151922]">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-2xl">
        <h2 class="text-3xl font-bold">Proyectos recientes</h2>
        <p class="mt-2 text-[#9CA3AF]">Muestras reales de proceso y resultado.</p>
      </div>

      <!-- Contenedor Masonry -->
      <div id="projGrid" class="mt-10 masonry">
        <!-- Los items se generan por JavaScript con la lista "projects" -->
      </div>
    </div>
  </section>

  <!-- =========================================================
       NOSOTROS
       - Mensaje de valor + métricas visibles
  ========================================================== -->
  <section id="nosotros" class="py-16 sm:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-10 items-start">
        <div>
          <h2 class="text-3xl font-bold">Sobre Alfa Urbana</h2>
          <p class="mt-3 text-[#9CA3AF] max-w-prose">
            Somos una constructora de Tijuana enfocada en soluciones técnicas y limpias. Ejecutamos con precisión y mantenemos comunicación constante, priorizando obras residenciales sin excluir clientes comerciales.
          </p>
          <ul class="mt-6 space-y-3">
            <li class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-[var(--brand)]"></span>
              Supervisión en sitio y control de calidad.
            </li>
            <li class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-[var(--brand)]"></span>
              Estimaciones claras y avances puntuales.
            </li>
            <li class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-[var(--brand)]"></span>
              Seguridad y EPP en todo momento.
            </li>
          </ul>
        </div>

        <!-- Métricas rápidas (cartas) -->
        <aside class="p-6 rounded-xl card">
          <h3 class="font-semibold">Certificaciones y seguridad</h3>
          <p class="mt-2 text-sm text-[#9CA3AF]">
            Protocolos de seguridad, EPP y control de accesos. <em>(Agrega tus certificaciones cuando estén listas.)</em>
          </p>
          <div class="mt-4 grid grid-cols-3 gap-3 text-center">
            <div class="p-4 rounded-lg bg-[#151922]">
              <div class="text-2xl font-bold text-[var(--brand)]">+25</div>
              <div class="text-xs text-[#9CA3AF]">Proyectos</div>
            </div>
            <div class="p-4 rounded-lg bg-[#151922]">
              <div class="text-2xl font-bold text-[var(--brand)]">10</div>
              <div class="text-xs text-[#9CA3AF]">Años equipo</div>
            </div>
            <div class="p-4 rounded-lg bg-[#151922]">
              <div class="text-2xl font-bold text-[var(--brand)]">5/5</div>
              <div class="text-xs text-[#9CA3AF]">Satisfacción</div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <!-- =========================================================
       TESTIMONIOS
       - Confianza social concisa
  ========================================================== -->
  <section class="py-16 sm:py-20 bg-[#151922]">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-2xl">
        <h2 class="text-3xl font-bold">Lo que dicen nuestros clientes</h2>
        <p class="mt-2 text-[#9CA3AF]">Confianza ganada en obra, no solo en papel.</p>
      </div>

      <div id="testGrid" class="mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Las tarjetas se generan por JavaScript con la lista "testimonials" -->
      </div>
    </div>
  </section>

  <!-- =========================================================
       CONTACTO / FORMULARIO
       - Envío por WhatsApp y enlace de correo
  ========================================================== -->
  <section id="contacto" class="py-16 sm:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-10 items-start">
        <div>
          <h2 class="text-3xl font-bold">Cotiza tu obra</h2>
          <p class="mt-2 text-[#9CA3AF]">Cuéntanos tu proyecto. Respondemos en el mismo día hábil.</p>

          <!-- Formulario mínimo → abre WhatsApp con el mensaje -->
          <form class="mt-6 grid gap-4" onsubmit="event.preventDefault(); window.open(whatsLink()+'&text='+encodeURIComponent(document.getElementById('msg').value),'_blank')">
            <input id="name" type="text" placeholder="Nombre"
                   class="px-4 py-3 rounded-lg bg-[#1F2937] border border-white/10 text-white placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[var(--brand)]" />
            <input id="mail" type="email" placeholder="Correo (opcional)"
                   class="px-4 py-3 rounded-lg bg-[#1F2937] border border-white/10 text-white placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[var(--brand)]" />
            <textarea id="msg" rows="4" placeholder="Describe tu proyecto..."
                      class="px-4 py-3 rounded-lg bg-[#1F2937] border border-white/10 text-white placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[var(--brand)]"></textarea>

            <div class="flex gap-3">
              <button type="submit" class="px-6 py-3 rounded-md bg-[var(--brand)] text-white font-semibold hover:opacity-90">
                Enviar por WhatsApp
              </button>
              <a id="ctaEmail" class="px-6 py-3 rounded-md border border-white/10 text-[#9CA3AF] hover:border-[var(--brand)] hover:text-white">
                Enviar por correo
              </a>
            </div>
          </form>

          <p class="mt-3 text-sm text-[#9CA3AF]">Cobertura: Tijuana y zona metropolitana.</p>
        </div>

        <!-- Datos rápidos de contacto -->
        <aside class="p-6 rounded-xl card">
          <h3 class="font-semibold">Contacto</h3>
          <div class="mt-2 text-sm text-[#9CA3AF] grid grid-cols-1 gap-2">
            <div><span class="text-white">WhatsApp:</span> +52 664 670 3603</div>
            <div><span class="text-white">Correo:</span> alfaurbana@gmail.com</div>
            <div><span class="text-white">Facebook:</span> <a id="fbLink" href="#" class="underline" target="_blank" rel="noopener">/alfaurbanatijuana</a></div>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <!-- =========================================================
       FOOTER
       - Enlaces rápidos y año dinámico
  ========================================================== -->
  <footer class="border-t border-white/10 py-10 bg-[#151922]">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <div class="flex items-center gap-3">
          <img src="./assets/logoAU.png" alt="Alfa Urbana" class="h-14 w-auto">
          <p class="text-sm text-[#9CA3AF]">© <span id="y"></span> Alfa Urbana · Construcción en Baja California</p>
        </div>
        <div class="flex items-center gap-4 text-sm">
          <a href="#servicios" class="hover:text-white">Servicios</a>
          <a href="#proyectos" class="hover:text-white">Proyectos</a>
          <a id="fbLink2" href="#" target="_blank" rel="noopener" class="hover:text-white">Facebook</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- =========================================================
       LIGHTBOX (modal) — para ver proyectos en grande
       - Botones prev/next + teclado (← → Esc)
  ========================================================== -->
  <div id="lbRoot" class="fixed inset-0 z-50 hidden bg-black/90">
    <button id="lbClose" class="absolute top-4 right-4 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 text-white text-xl leading-none" aria-label="Cerrar">✕</button>
    <button id="lbPrev"  class="absolute left-3 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 text-white text-xl" aria-label="Anterior">‹</button>
    <button id="lbNext"  class="absolute right-3 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 text-white text-xl" aria-label="Siguiente">›</button>
    <div class="h-full w-full flex items-center justify-center p-4">
      <figure class="max-w-5xl w-full">
        <img id="lbImg" src="" alt="" class="w-full h-auto rounded-lg shadow-[0_20px_60px_rgba(0,0,0,.6)]" />
        <figcaption id="lbCap" class="mt-4 text-center text-[#D1D5DB] text-sm"></figcaption>
      </figure>
    </div>
  </div>

  <!-- =========================================================
       SCRIPT (datos mínimos + render dinámico)
       - Solo lo necesario para poblar tarjetas y galería
  ========================================================== -->
  <script>
    // --- Configuración mínima (solo index) -------------------
    const CONTACT = {
      email: "alfaurbana@gmail.com",
      whatsapp_e164: "+526646703603",
      facebook: "https://www.facebook.com/alfaurbanatijuana"
    };

    const services = [
      "Estructuras metálicas y obra gris",
      "Tablaroca y acabados interiores",
      "Remodelaciones residenciales y comerciales",
      "Impermeabilización y mantenimiento integral",
      "Instalaciones ligeras (eléctrica y plomería básica)",
      "Diseño y adecuación de espacios"
    ];

    const projects = [
      { title: "Fachada en proceso",            img: "./assets/photos/before1.jpeg",                 desc: "Inicio de obra y preparación estructural de fachada." },
      { title: "Fachada terminada",              img: "./assets/photos/after1.jpeg",                  desc: "Finalización de acabados exteriores y pintura general." },
      { title: "Segunda fase de acabados",       img: "./assets/photos/after2.jpeg",                  desc: "Instalación de molduras y retoques finales de la estructura." },
      { title: "Proyecto residencial destacado", img: "./assets/photos/housethemostimportantwork.jpeg",desc: "Desarrollo habitacional principal de Alfa Urbana." },
      { title: "Acabado interior",               img: "./assets/photos/interior1.jpeg",               desc: "Plafones y muros en tablaroca con iluminación embutida." },
      { title: "Instalaciones y acabados",       img: "./assets/photos/interior2.jpeg",               desc: "Tendido de cableado y aplicación de textura decorativa." },
      { title: "Área comercial en ejecución",    img: "./assets/photos/interiorinterprise.jpeg",      desc: "Adecuación de local para nueva apertura comercial." },
      { title: "Espacio corporativo finalizado", img: "./assets/photos/interiorinterprise2.jpeg",     desc: "Oficinas terminadas con acabado industrial limpio." },
      { title: "Trabajo en altura con EPP",      img: "./assets/photos/worker.jpeg",                  desc: "Instalación estructural segura con equipo de protección." }
    ];

    const testimonials = [
      { name: "Propietario residencial", text: "El trato fue muy claro y la obra quedó tal cual lo prometido." },
      { name: "Administrador de local",  text: "Resolvieron rápido sin cerrar el negocio. Muy profesionales." },
      { name: "Cliente comercial",       text: "Excelente comunicación y cumplimiento de tiempos." }
    ];

    // --- Utilidades de enlaces -------------------------------
    const WA = "https://wa.me/" + CONTACT.whatsapp_e164.replace(/[^+0-9]/g,'') + "?text=" + encodeURIComponent("Hola Alfa Urbana, me interesa una cotización.");
    function whatsLink(){ return WA; }

    // --- Poblado de contenidos -------------------------------
    // Servicios
    const svcGrid = document.getElementById("svcGrid");
    services.forEach(s => {
      const el = document.createElement("div");
      el.className = "p-6 rounded-xl card";
      el.innerHTML = `<h3 class="font-semibold text-white">${s}</h3>`;
      svcGrid.appendChild(el);
    });

    // Proyectos (masonry + botones que abren lightbox)
    const projGrid = document.getElementById("projGrid");
    projects.forEach((p, i) => {
      const wrap = document.createElement("div");
      wrap.className = "masonry-item";
      wrap.innerHTML = `
        <button data-idx="${i}" class="group relative block w-full rounded-xl overflow-hidden ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-[var(--brand)]">
          <img loading="lazy" src="${p.img}" alt="${p.title}" class="w-full h-auto object-cover transition-transform duration-500 group-hover:scale-[1.03]">
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
          <div class="absolute bottom-0 left-0 right-0 p-4">
            <h3 class="text-white font-semibold drop-shadow">${p.title}</h3>
            <p class="text-[#D1D5DB] text-sm">${p.desc}</p>
          </div>
        </button>
      `;
      projGrid.appendChild(wrap);
    });

    // Testimonios
    const testGrid = document.getElementById("testGrid");
    testimonials.forEach(t => {
      const card = document.createElement("div");
      card.className = "p-6 rounded-xl card";
      card.innerHTML = `<p class="text-white">“${t.text}”</p><div class="mt-3 text-sm text-[#9CA3AF]">— ${t.name}</div>`;
      testGrid.appendChild(card);
    });

    // Enlaces de contacto
    const waBtn = document.getElementById("ctaWhats");
    if (waBtn) waBtn.href = WA;

    const emailLink = document.getElementById("ctaEmail");
    if (emailLink) emailLink.href = "mailto:"+CONTACT.email+"?subject=Cotización";

    const fb1 = document.getElementById("fbLink");
    const fb2 = document.getElementById("fbLink2");
    if (fb1) fb1.href = CONTACT.facebook;
    if (fb2) fb2.href = CONTACT.facebook;

    // Año dinámico en footer
    const y = document.getElementById("y");
    if (y) y.textContent = new Date().getFullYear();

    // --- Lightbox simple y estable ---------------------------
    const lbRoot  = document.getElementById("lbRoot");
    const lbImg   = document.getElementById("lbImg");
    const lbCap   = document.getElementById("lbCap");
    const lbClose = document.getElementById("lbClose");
    const lbPrev  = document.getElementById("lbPrev");
    const lbNext  = document.getElementById("lbNext");
    let idx = 0;

    function openLB(i){
      idx = i;
      const p = projects[idx];
      if(!p) return;

      // Precarga imagen actual y vecinas (suaviza navegación)
      [p.img, projects[(idx+1)%projects.length]?.img, projects[(idx-1+projects.length)%projects.length]?.img]
        .filter(Boolean)
        .forEach(src => { const im = new Image(); im.src = src; });

      lbImg.src = p.img;
      lbImg.alt = p.title;
      lbCap.textContent = [p.title, p.desc].filter(Boolean).join(" — ");
      lbRoot.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }
    function closeLB(){
      lbRoot.classList.add("hidden");
      document.body.style.overflow = "";
    }
    function nextLB(step=1){
      if(!projects.length) return;
      idx = (idx + step + projects.length) % projects.length;
      openLB(idx);
    }

    projGrid.addEventListener("click", (e) => {
      const btn = e.target.closest("button[data-idx]");
      if (!btn) return;
      openLB(parseInt(btn.dataset.idx, 10));
    });
    lbClose.addEventListener("click", closeLB);
    lbRoot.addEventListener("click", (e) => { if (e.target === lbRoot) closeLB(); });
    lbPrev.addEventListener("click", () => nextLB(-1));
    lbNext.addEventListener("click", () => nextLB(1));
    window.addEventListener("keydown", (e) => {
      if (lbRoot.classList.contains("hidden")) return;
      if (e.key === "Escape") closeLB();
      if (e.key === "ArrowRight") nextLB(1);
      if (e.key === "ArrowLeft")  nextLB(-1);
    });

    // --- Menú móvil (toggle) --------------------------------
    const btnMenu = document.getElementById("btnMenu");
    const mobileMenu = document.getElementById("mobileMenu");
    if (btnMenu && mobileMenu) {
      btnMenu.addEventListener("click", () => mobileMenu.classList.toggle("hidden"));
    }
  </script>
</body>
</html>
